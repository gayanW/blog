<!DOCTYPE html>
<html>

<head>
    
        <title>Connecting to WireGuard VPN Tunnel</title>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="A free colloborative space for Linux developers to share their tuts and tips on Linux and Open Source.
">

    

    <link rel="icon" href="/assets/img/blog.png">
    <link href="https://fonts.googleapis.com/css?family=Alegreya|Roboto|Roboto+Mono" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/damieng.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax/base16.css">
</head>

<body>
	<div class="wrapper">
		<div class="header">
			<h1><a href="/">Linux Dev Space</a></h1>
			<ul>
				
				<li>
					<a href="/">Home</a>
				</li>
				
				<li>
					<a href="/about">About</a>
				</li>
				
			</ul>
		</div>

        <div class="post">

  <div class="post__title">
    <h1>Connecting to WireGuard VPN Tunnel</h1>
  </div>
  <div class="post__date">
    <p>April 1, 2022</p>
  </div>
  <div class="post__meta">
    <p></p>
  </div>
  <div class="post__content">
    <p>This guide provides the minimal first-step instructions required to connect to any WireGuard based VPN server.
If you also want to set up your own WireGuard server, you may start by reading the official <a href="https://www.wireguard.com/quickstart/">quickstart</a> guide.</p>

<p>I’ll be using a free-to-use, WireGuard based VPN service, SecurityKiss. 
They provide a limited free plan and affordable paid plans. No email registration is required to use it. The same steps should apply to other WireGuard based VPN servers as well.</p>

<p>Start by downloading a VPN client configuration file from <a href="https://securitykiss.com/download.html">securitykiss.com/download</a></p>

<p>The downloaded file would contain the following details.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Interface]
Address=&lt;interface-ip&gt;
PrivateKey=&lt;client-private-key&gt;
DNS=8.8.8.8

[Peer]
PublicKey=&lt;server-public-key&gt;
Endpoint=&lt;server-public-ip&gt;:7668
AllowedIPs=0.0.0.0/0,::/0
PersistentKeepalive=25
</code></pre></div></div>

<p>SecurityKiss would generate all the placeholder values including the private key. 
So you don’t have to make any modifications to the downloaded config file to be able to use it.</p>

<p>Then install the WireGuard client. <code class="language-plaintext highlighter-rouge">wireguard</code> meta package include command line tools required to connect to WireGuard VPN servers.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt update
sudo apt install wireguard resolvconf
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">resolvconf</code> is internally used by <code class="language-plaintext highlighter-rouge">wireguard</code> to set the interface’s DNS servers specified in the configuration file.</p>

<p>Copy or move the config file to <code class="language-plaintext highlighter-rouge">/etc/wireguard/</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo cp US_New_York_1.conf /etc/wireguard/
</code></pre></div></div>

<p>Then to connect to the VPN tunnel:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo systemctl enable wg-quick@US_New_York_1
</code></pre></div></div>

<p>Make sure to replace <code class="language-plaintext highlighter-rouge">US_New_York_1</code> with the name of your configuration file.</p>

<p>This will brings up a new network interface with properties supplied in the given configuration file.
The name of the network interface would be as same as the name of the configuration file.</p>

<p><code class="language-plaintext highlighter-rouge">systemctl enable</code> is used to make <code class="language-plaintext highlighter-rouge">wg-quick.service</code> start at boot.</p>

<p>To find the details about the newly added network interface, run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ip address show
ip address show US_New_York_1
</code></pre></div></div>


  </div>

  







<!-- Make sure to POST params to match configs in staticman.yml 
     https://staticman.net/docs/index.html -->
<h3>Leave a comment</h3>
<form action="/fake" method="post" id="commentform" class="form-horizontal">
  <fieldset id="commentfields">
    <input name="options[redirect]" type="hidden" value="https://www.linuxdeveloper.space/configure-wireguard-client/">
    <input name="options[slug]" type="hidden" value="configure-wireguard-client">

    <textarea name="fields[message]" id="message" placeholder="Continue the discussion."></textarea>

    <label for="name">Name/alias <span>(Required, displayed)</span></label>
    <input type="text" name="fields[name]" id="name" placeholder="Name" />

    <label for="email">Email <span>(Required, not shown)</span></label>
    <input type="text" name="fields[email]" id="email" placeholder="you@domain.com" />

    <!-- https://ruddra.com/posts/implement-newsletters-using-staticman/ -->
    <!-- https://yasoob.me/posts/staticman_comment_notifications_mailgun/ -->
    <label>Notify me of new comments</label>
    <input type="checkbox" name="options[subscribe]" value="email">
    <br>

    <button onclick="setupForm()" type="button" id="commentbutton">Leave response</button>
  </fieldset>
</form>

<script>
    function setupForm() {
      var status = document.getElementById('commentstatus')
      status.innerText = ''

      var requiredIds = [ 'message', 'email', 'name']
      var missing = requiredIds.filter(id => document.getElementById(id).value.length < 3)
      if (missing.length > 0) {
        status.innerText = 'Some required fields are missing - (' + missing.join(', ') + ')'
        return
      }

      var button = document.getElementById('commentbutton')
      if (button.innerText != 'Confirm comment') {
        button.innerText = 'Confirm comment'
        return
      }

      var form = document.getElementById('commentform')
      form.action = 'https://dev.staticman.net/v3/entry/github/gayanw/blog/master/comments'
      button.innerText = 'Posting...'
      button.disabled = true
      form.submit()
      var fields = document.getElementById('commentfields')                                         
      fields.disabled = true
    }
  </script>
<div id="commentstatus" style="clear:both" class="status"></div>




</div>


	<div class="footer">
		<p>&copy; 2022 <a href="/">Gayan Weerakutti</a>, unless otherwise noted.</p>
	</div>
	</div>
</body>

</html>
